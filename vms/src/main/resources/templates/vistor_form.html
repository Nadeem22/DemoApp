<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<div class="header">
			<h1>Visitor Registration Form</h1><br>
			<h3 th:if="${msg!=null}" style="color: red"><span th:text="${msg}"></span></h3>
		</div>
		<div>
			<div class="container">
				<form th:action="@{/visitor/save}" th:object="${visitor}"
					method="POST">
					<div class="form-group">
						<label for="visitorName">Visitor Name:</label> <input type="text"
							class="form-control" id="visitor" th:field="*{visitorName}"
							placeholder="Enter Visitor Name" name="visitorName" required>
						<p id="visitorValidation" style="color: red"></p>
					</div>
					<div class="form-group">
						<label for="flatNo">Flat No:</label> <input type="text"
							class="form-control" id="flat" th:field="*{flatNo}"
							placeholder="Enter Flat Number" name="flatNumber" required>
						<p id="flatValidation" style="color: red"></p>
					</div>
					<button type="submit" class="btn btn-primary"
						onclick="return validateForm()">Submit</button>
					<br>
					<br> <a th:href="@{/home}" class="btn btn-primary">Back</a>
				</form>
			</div>

		</div>
	</div>
</body>
<script type="text/javascript">
function validateForm() {
	  let visitor = document.getElementById("visitor").value;
	  let flatNumber = document.getElementById("flat").value;
	  
	  if(visitor == "" || visitor == null){
		  document.getElementById("visitorValidation").innerHTML = "Name should contain minmum 3 and max 20 charecter";
		  return false;
	  }else if(visitor.length < 3 || visitor.length > 20){
		  document.getElementById("visitorValidation").innerHTML = "Name should contain minmum 3 and max 20 charecter";
		  return false;
	  }else if(flatNumber.length < 2 || flatNumber.length > 5 ){
		  document.getElementById("flatValidation").innerHTML = "Name should contain minmum 2 and max 20 charecter";
		  return false;
	  }else{
		  return true;
	  }
	 
	}
</script>
</html>